<div class="schools-page">
  <div class="schools">
    <h1>Schools in the UK</h1>
    <div data-controller="search-schools">
      <%= form_with url: schools_path, method: :get, html: { class:
        '', data: { search_schools_target: 'form' } } do |f| %>
        <%= f.text_field :query,
                        class: "form-control search-bar",
                        placeholder: 'Type a school title',
                        value: params[:query],
                        data: {
                          search_schools_target: 'input',
                          action: 'keyup->search-schools#update'
                        } %>
      <% end %>
      <%= render 'schools/list' %>
    </div>
  </div>
  <div class="map-section">
    <div
      id="map"
      style="width: 100%; height: 100vh;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="pk.eyJ1IjoibmljazIzNDIzNDIiLCJhIjoiY2tzMGYybTN1MWpvejJ1cHNrczV4YmFiNyJ9.YOnTvBEhpVi6_j0XJHu3Sw">
    </div>
  </div>
</div>
